<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Goalie</title>
</head>
<body>
<header layout:fragment="header">
    <section class="main_section">
        <nav>
            <div class="navlogo">
                <div data-aos="fade-right">
                    <img th:src="@{/images/logo.jpg}" alt="Goalie Logo">
                </div>
                <h1 data-aos="fade-down">Goalie</h1>
            </div>
            <div class="nav_list" data-aos="zoom-in">
                <a th:href="@{/tournaments}">Tournaments</a>
                <a th:href="@{/faq}">FAQ</a>
                <a href="#footer">Contact Us</a>
                <a class="profile-pic" th:href="@{/profile_account}">
                    <div>
                        <img th:src="@{/images/profile.jpg}">
                    </div>
                    <h4 th:text="${user.name}"></h4>
                </a>
            </div>
        </nav>
    </section>
</header>
<main layout:fragment="content">
    <section class="home-modern">
        <!-- Hero Section with Mode Switcher -->
        <div class="hero-section">
            <div class="hero-content">
                <h1 class="welcome-title">
                    Welcome back, <span th:text="${user.name}"></span>! ğŸ‘‹
                </h1>
                <p class="welcome-subtitle">Choose your mode to get started</p>
                
                <!-- Mode Switcher -->
                <div class="mode-switcher">
                    <form method="post" th:action="@{/switch-mode}" class="mode-form">
                        <div class="mode-toggle">
                            <button type="submit" name="mode" value="user" 
                                    th:class="${currentMode == 'user' ? 'mode-btn active' : 'mode-btn'}"
                                    th:disabled="${currentMode == 'user'}">
                                <span class="mode-icon">ğŸ‘¤</span>
                                <span class="mode-label">User Mode</span>
                                <span class="mode-desc">Organize & Manage</span>
                            </button>
                            <button type="submit" name="mode" value="player" 
                                    th:class="${currentMode == 'player' ? 'mode-btn active' : 'mode-btn'}"
                                    th:disabled="${currentMode == 'player'}">
                                <span class="mode-icon">âš½</span>
                                <span class="mode-label">Player Mode</span>
                                <span class="mode-desc">Play & Compete</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Stats Dashboard -->
        <div class="stats-dashboard">
            <div class="stat-card">
                <div class="stat-icon">ğŸ†</div>
                <div class="stat-content">
                    <h3 th:text="${tournamentCount}">0</h3>
                    <p>Tournaments</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âš½</div>
                <div class="stat-content">
                    <h3>0</h3>
                    <p>Matches</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-content">
                    <h3>0</h3>
                    <p>Teams</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“Š</div>
                <div class="stat-content">
                    <h3>0</h3>
                    <p>Ranking</p>
                </div>
            </div>
        </div>

        <!-- Action Cards Based on Mode -->
        <div class="action-section" th:if="${currentMode == 'user'}">
            <h2 class="section-title">Organizer Dashboard</h2>
            <div class="action-grid">
                <a th:href="@{/tournaments/create}" class="action-card create-tournament">
                    <div class="card-icon">â•</div>
                    <h3>Create Tournament</h3>
                    <p>Schedule and organize a new tournament</p>
                    <span class="card-arrow">â†’</span>
                </a>
                <a th:href="@{/tournaments}" class="action-card view-tournaments">
                    <div class="card-icon">ğŸ†</div>
                    <h3>View Tournaments</h3>
                    <p>Browse all active and upcoming tournaments</p>
                    <span class="card-arrow">â†’</span>
                </a>
                <a href="#" class="action-card manage-teams">
                    <div class="card-icon">ğŸ‘¥</div>
                    <h3>Manage Teams</h3>
                    <p>Create and manage teams for your tournaments</p>
                    <span class="card-arrow">â†’</span>
                </a>
                <a href="#" class="action-card analytics">
                    <div class="card-icon">ğŸ“Š</div>
                    <h3>Analytics</h3>
                    <p>View statistics and insights</p>
                    <span class="card-arrow">â†’</span>
                </a>
            </div>
        </div>

        <div class="action-section" th:if="${currentMode == 'player'}">
            <h2 class="section-title">Player Dashboard</h2>
            <div class="action-grid">
                <a th:href="@{/tournaments}" class="action-card join-tournament">
                    <div class="card-icon">ğŸ¯</div>
                    <h3>Join Tournament</h3>
                    <p>Browse and join available tournaments</p>
                    <span class="card-arrow">â†’</span>
                </a>
                <a th:href="@{/tournaments}" class="action-card create-team">
                    <div class="card-icon">ğŸ‘¥</div>
                    <h3>Create Team</h3>
                    <p>Join a tournament and form your team</p>
                    <span class="card-arrow">â†’</span>
                </a>
                <a href="#" class="action-card my-teams">
                    <div class="card-icon">ğŸƒ</div>
                    <h3>My Teams</h3>
                    <p>View and manage your teams</p>
                    <span class="card-arrow">â†’</span>
                </a>
                <a href="#" class="action-card leaderboard">
                    <div class="card-icon">ğŸ…</div>
                    <h3>Leaderboard</h3>
                    <p>Check rankings and your position</p>
                    <span class="card-arrow">â†’</span>
                </a>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <h2 class="section-title">Quick Actions</h2>
            <div class="quick-action-buttons">
                <a th:href="@{/profile_account}" class="quick-btn">
                    <span>âš™ï¸</span> Profile Settings
                </a>
                <a th:href="@{/tournaments}" class="quick-btn">
                    <span>ğŸ”</span> Browse Tournaments
                </a>
                <a href="#" class="quick-btn">
                    <span>ğŸ’¬</span> Messages
                </a>
                <a href="#" class="quick-btn">
                    <span>ğŸ””</span> Notifications
                </a>
            </div>
        </div>
    </section>
</main>
</body>
</html>